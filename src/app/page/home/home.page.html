<ion-header>
  <ion-toolbar>
    <ion-title>Pfandflaschen</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">


    <ion-grid>
      <ion-row>
        <ion-col size-sm="4">
          <ion-card>
            <ion-item class="ion-activated" button (click)="this.photoService.getBarcode()">
              <ion-list slot="start">
                <ion-item >
                  <ion-icon name="barcode-outline" slot="start"></ion-icon>
                  <ion-label>Barcode</ion-label>
                  <ion-badge slot="end">{{this.photoService.barcode.format}}</ion-badge>
                  <ion-badge slot="end">{{this.photoService.barcode.text}}</ion-badge>
                </ion-item>
              </ion-list>
            </ion-item>
          </ion-card>
        </ion-col>

        <ion-col size-sm="4">
          <ion-card>
            <ion-item>

              <ion-list slot="start">
                <ion-item class="ion-activated" button (click)="this.pfandLager.add(item.type)"
                  *ngFor="let item of this.pfandLager.flaschen">
                  <ion-label>{{item.type}}</ion-label>
                  <ion-badge slot="end">{{item.count}}</ion-badge>
                  <ion-badge slot="end">{{item.totalValue | number:'1.2-4' }}</ion-badge>
                </ion-item>
                <ion-item>
                  <ion-label>Summe </ion-label>
                  <ion-badge slot="end">{{this.pfandLager.flaschenCount}}</ion-badge>
                  <ion-badge slot="end">{{this.pfandLager.flaschenPfand | number:'1.2-4' }} Eur</ion-badge>
                </ion-item>
              </ion-list>
            </ion-item>
          </ion-card>
        </ion-col>
      </ion-row>

      <ion-grid>
        <ion-row>
            <ion-col size-sm="3">
            <ion-button size="small" fill="solid" (click)="onSave()">Save</ion-button>
            <ion-button size="small" fill="solid">Reset</ion-button>
            <ion-button size="small" (click)="onGeoPosUpdate()">
            <ion-icon name="locate-outline"></ion-icon>
            </ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>

      <ion-row>
        <div id="map" class="map"> </div>
      </ion-row>
    </ion-grid>
  </ion-content>

  <ion-footer>
    <ion-toolbar>
    </ion-toolbar>
  </ion-footer>